# 融合多源大数据的生成式建筑物尺度时空化人口画像方法研究

**关键词**：人口空间化；人口画像

> 一句话定位：以普查统计为底座，在多源城市感知数据约束下，用生成式扩散模型重建“属性–空间–时间”的高维联合分布，生成可检验的建筑物尺度人口画像。

## 2 项目的研究内容、研究目标，以及拟解决的关键科学问题

### 2.1 研究目标（200字左右）
当前中国城市研究依赖的宏观人口普查或静态网格密度数据，存在缺乏微观个体社会经济属性与精细化时空属性的核心局限，制约了城市复杂机制揭示与动态城市数字孪生构建。本课题基于生成式扩散模型构建“基于扩散的多层次人口生成方法”（此处“扩散”指生成式扩散模型，而非传统空间扩散模型；其“加噪—去噪”机制为高维联合分布重建提供新的分解路径），融合多源异构数据，研发精细人口时空化方法，构建兼具微观社会经济属性、高精度地理信息的大尺度城市人口数据库，为动态城市数字孪生建设与城市复杂系统研究提供数据基础。

### 2.2 研究内容

#### 2.2.1 多源数据融合的高精度人口空间化方法研究
人口画像本质上是高维联合分布的重建问题，属性维度增加会导致组合空间指数增长；传统 IPF/IPU 等边际拟合方法易引入属性独立近似，CO 方法则受候选样本库覆盖度限制而难以补齐稀有组合。

为此，本研究构建“基于扩散的多层次人口生成方法”，通过“加噪—去噪”的逐步重建将高维联合分布恢复分解为一系列低难度的局部修正，并在生成过程中持续注入宏观统计与空间条件。具体包括：
1. 面向混合类型人口属性的表格扩散生成架构；
2. 以普查边际统计作为宏观约束，以建筑物/用地/POI 功能作为空间锚定条件，引导个体“属性—位置”的联合生成；
3. 通过规则投影/修复确保逻辑可行性（如年龄–就业一致性、家庭结构一致性、结构性零组合排除）。

#### 2.2.2 融合时间属性的人口时空化方法研究
在第一部分得到的建筑物尺度合成人口数据库基础上，将时间作为联合分布的关键维度，引入手机信令、夜间灯光等时段信息作为条件约束，生成日间/夜间、工作日/周末等不同时间段的个体高精度位置信息与活动强度，实现从静态“在地人口”到动态“在时人口”的统一建模。

#### 2.2.3 验证闭环与评估
在缺乏建筑物尺度“真值”微观普查样本的条件下，构建“统计–空间–时间”三层验证框架：
- 统计层：检验生成总体与普查在分区边际及关键二阶关联上的一致性；
- 空间层：检验建筑物尺度人口分布与 POI 活跃度、用地功能、夜间灯光等空间证据的一致性；
- 时间层：检验日周期/周周期动态与手机信令/轨迹数据揭示规律的匹配度。

数据来源包括：腾讯位置/轨迹、人口普查与统计年鉴、网格与遥感夜光、建筑物与 POI、房价与互联网等级等。

### 2.3 拟解决的关键科学问题

#### 2.3.1 关键科学问题
> 如何通过物理启发的理论与方法，破解多源大数据人口空间化中，人地时空关系从宏观统计规律到微观个体行为的转化难题？

#### 2.3.2 数学本质与传统方法瓶颈
该问题的核心在于：宏观普查与多源空间证据刻画的是聚合规律，而研究与治理往往需要可用于模拟的微观个体。其数学本质是，在宏观统计约束与空间/时间条件下，重建人口“属性–空间–时间”的高维联合分布并生成满足可行性规则的微观样本。

传统 IPF/IPU/CO 等方法多通过边际调权或候选组合逼近宏观统计，在高维稀疏下易出现支持集缺失（sampling zeros）与属性独立近似导致的关联丢失，且约束往往依赖事后修补。

#### 2.3.3 核心思路：扩散生成 + 约束内生满足
为此，本研究以生成式扩散模型的物理启发数学基础（朗之万动力学、分数匹配）为支撑：前向“加噪”可类比热扩散的均匀化过程，反向“去噪”则在学习到的分布梯度引导下逐步恢复真实分布；普查边际、空间条件与规则可行性在生成中作为“边界条件”持续注入。基于此提出“基于扩散的多层次人口生成方法”，使联合分布重建与约束满足在生成过程中同步发生，为宏观到微观的人地时空关系精准转化提供理论与方法支撑。

#### 2.3.4 关键技术问题
围绕上述核心科学问题，本研究拟突破以下 2 项关键技术问题：
1. 如何构建基于扩散的多层次人口生成模型，融合普查边际、建筑物/用地/POI 等多源条件，重建混合类型人口属性与建筑物尺度位置的联合分布，并保证个体与家庭的逻辑可行性？
2. 如何构建可检验的验证闭环，在缺乏建筑物尺度“真值”微观数据的条件下评估生成人口的统计一致性、空间真实性与时间动态？本研究拟采用三层验证框架：统计层检验生成总体与普查在分区边际及关键二阶关联上的差异；空间层检验建筑物尺度人口分布与 POI 活跃度、用地功能、夜间灯光等空间证据的一致性；时间层检验日周期/周周期动态与手机信令/轨迹数据揭示规律的匹配度。

## 4 特色与创新之处
- **研究场景创新（数据可得性约束下的可行路线）**：国外在具备细化人口普查微观样本的条件下可直接开展合成人口构建，而我国细粒度微观普查样本的可得性受限。本研究以普查统计为底座，融合手机信令、建筑物、POI 等多源数据，形成可生成、可检验的建筑物尺度人口画像方法。
- **数据创新（微观个体数据库缺失补齐）**：弥补当前城市研究中微观个体数据库的缺失，在现有人口空间化研究针对网格人口密度描述的基础上构建兼具高精度地理坐标、详实社会经济属性不同时间段的高精度位置信息的大尺度合成人口数据库，突破传统宏观数据难以刻画个体人地时空关系特征的局限，为城市微观尺度研究提供全新数据基底。
- **方法创新（联合结构重建—约束内生满足）**：传统人口合成方法（IPF/IPU/CO）依赖对联合分布的显式分解或候选样本库的组合枚举，在高维空间下面临支持集缺失（sampling zeros）与属性独立近似导致的关联丢失问题，且宏观统计与规则约束往往依赖事后筛选/修补。本研究构建基于扩散的多层次人口生成方法，利用生成式扩散模型“逐步去噪”的分布重建机制直接学习高维联合分布的关联结构，并在生成过程中注入普查边际与时空条件约束，实现“联合结构重建—约束内生满足”的一体化生成，从而支撑建筑物尺度、具时间动态的人口画像构建。

## 国内外文献综述

（刘小平，建筑）

### 研究背景：精细人口数据需求
详细的人口信息是社会研究最重要的指标之一，可以为城市区域规划、城市发展研究、人口学研究等提供重要的数据支撑。然而，国内现有的人口普查数据通常以行政区（省、市、区、街道等）为统计单元，缺少人口数据的地理信息。且人口普查的信息无法精确涵盖所有个体，难以在小尺度上精准刻画人口的空间分布规律与动态流动特征，无法满足精细化城市治理中对人口活动轨迹、居住就业关联、公共服务需求匹配等场景的深度数据需求。精确的人口信息主要包含两方面：其一是人口的“在地”信息，依靠与空间底图的挂接来实现。其二是人口特征的刻画，涉及如何对其进行画像。本研究旨在协同宏观人口普查、手机信令、土地利用等多源异构数据，生成具有详实地理信息、时间信息与社会经济属性（如年龄、职业、收入）的合成人口数据库。

### 人口空间化 → 人口时空化：多源数据的机会窗口
目前国内对实现人口空间化信息的研究较多。人口空间化,是基于人口空间分布模型或采用一定的计算方法或算法,对人口统计数据进行离散化处理,发掘并展现其中隐含的空间信息,以模拟或再现客观世界的人口地理分布。早期学者们利用人口统计数据和行政区域地理边界数据进行空间插值，原理为假设人口在格网内均匀分布，根据格网的面积与人口密度数据，将人口数据信息由行政单元转化为地理网格单元，典型方法如负指数模型、核密度估计法、协同克里金法等。空间插值法可以实现人口分布密度表现形式从统计数据到地理空间图像的格式转变，但无法刻画真实人口分布。发展后的人口空间化研究则利用遥感和 GIS 建立地理信息和人口统计数据间的多元回归关系，以土地利用、地形地貌、夜间灯光、多分辨率影像等多种参考因素及人口分布数据在各地理空间网格逐格点计算。在此基础之上，多源数据的使用能够极大提升人口空间化的精度，可以从几十千米的尺度到几百米的尺度。主要方法为对各单因素赋予不同权重方案进行加权(乘积)融合，以获取各格网单元人口分布系数，进而计算各网格的人口分布数据。比如将随机森林模型应用于街景影像（SVI）和 POI 数据可生成武汉市 100m x 100m 尺度精细的人口空间化分布。近年来移动通信的发展使得人口空间分布计算有了新的分时数据源，也具有了人口空间化方法突破为人口时空化方法的可能。通过对移动通讯信令的分析，可以得到精细时空尺度上的人口分布情况，比如上海市公里格网级每小时人口密度图谱。上述研究佐证了通过多源数据，尤其是结合移动信令数据后可以开发精细时空尺度的人口空间化方法。

### 合成人口与人口画像：主流路线与局限
人口画像蕴含个体的核心特征与属性信息，涵盖年龄、性别、受教育程度、职业、经济状况、家庭结构等关键维度，是开展城市规划、公共政策制定、交通需求预测等研究的基础数据支撑。合成人口方法凭借其可生成大范围、高精确性且规避隐私泄露风险的优势，被公认为获取大规模人口画像的最有效技术路径之一。从国际研究来看，合成人口技术形成了三种主流技术路线（Chapuis et al., 2022; Hörl & Balac, 2021），各路线的核心逻辑与实现方式存在显著差异：（1）合成重构（Synthetic Reconstruction, SR）：通过拟合真实人口的各类属性分布，随机生成符合分布特征的虚拟个体，实现人口群体的“重构”；（2）组合优化（Combinatorial Optimization, CO）：基于真实个体样本库，通过复制、筛选与组合真实个体的方式，使生成的合成人口满足预设的宏观统计约束（如区域年龄结构、家庭规模分布等）；（3）统计学习（Statistical Learning, SL）：借助机器学习与深度学习算法学习人口属性的联合分布结构，据此生成属性逻辑一致的个体信息。该范畴涵盖概率采样方法（MCMC、Gibbs Sampling）、概率图模型（贝叶斯网络）以及近年兴起的深度生成模型（VAE、GAN、扩散模型）等。

### IPF/IPU 等经典方法与局限
在具体方法应用方面，由Beckman等人（1996）提出的迭代比例拟合（Iterative Proportional Fitting, IPF）方法，因具备计算流程简洁、模型拟合准确度高、对基础数据要求较低等优势，成为早期合成人口研究中最受欢迎的核心方法之一。Arentze等人（2007）利用该方法对欧洲工人个体数据进行合成，为劳动力市场相关研究提供数据支撑；Zhu等人（2014）基于IPF方法生成新加坡的人口与家庭微观数据，服务于城市公共服务资源配置研究；Wheaton等人（2009）则将IPF合成的美国综合人口数据库应用于基于主体的模型（Agent-Based Model, ABM）仿真进行社会经济系统模拟分析。然而，传统IPF方法存在明显局限，如易出现“零单元格问题”（即部分属性组合在样本中缺失导致无法拟合）、“维度灾难”（属性维度增加时计算复杂度呈指数级上升），且存在算法不收敛的风险；同时，其难以有效处理个人-家庭-社区等多层级嵌套统计约束。针对这些问题，研究者们逐步提出改进方案，其中分层IPF与迭代比例更新（Iterative Proportional Updating, IPU）方法应用最为广泛：分层IPF通过按家庭、个人等层级拆分约束条件，逐步迭代优化权重；IPU则通过类别划分简化属性组合空间，分别实现个体层与家庭层约束的精准匹配。

### 概率化模型与深度学习路线
除IPF系列方法外，概率化模型也被广泛应用于SR技术路线的人口合成研究，代表性方法包括：（1）Harland等人（2012）提出的蒙特卡洛方法；（2）Barthelemy等人（2012）基于条件分布的贝叶斯迭代方法；（3）马尔可夫链蒙特卡洛（Markov Chain Monte Carlo, MCMC）方法等。近年来，机器学习和深度学习的快速发展为人口合成提供了更强的技术支撑，突破了传统方法在高维度属性建模上的局限。Sun与Earth（2015）提出基于贝叶斯网络的图形化建模方法（Bayesian Network），通过节点（属性）与边（属性关联）构建人口属性的概率依赖关系图，实现多维度属性的协同生成；深度神经网络模型强大的特征学习能力使得研究者们能挖掘人口数据背后复杂的非线性关联与潜在逻辑结构，显著提升了高维度、大规模人口合成的效率与精度。

### 方法瓶颈与生成式扩散模型的演进
上述三条路线在工程上各有适用场景，但在面向高维、高分辨率人口画像时共同遭遇结构性瓶颈：
- **SR/IPF**：将联合分布分解为边际乘积，隐含属性独立近似，且 sampling zeros 无法凭空补齐；
- **CO**：受限于候选样本库覆盖度，稀有组合在优化框架下同样无解；
- **传统 SL（贝叶斯网络、VAE/GAN）**：虽能捕捉属性间依赖，却难以端到端建模完整联合分布的几何结构，且约束多依赖事后筛选。

**生成式扩散模型（Generative Diffusion Model）**的兴起为此提供新的技术路径。与上述方法不同，扩散模型的核心是**直接学习数据分布的生成动力学**：通过"前向加噪—反向去噪"的迭代过程，模型学习从简单噪声逐步恢复为符合真实联合分布的样本。这一机制具有三重优势（Kang et al., 2023; Tang et al., 2025）：
1. **逐步分解**："逐步去噪"将高维估计分解为多次低难度局部修正，缓解维度灾难；
2. **联合结构保持**：直接建模联合分布"形状"，避免属性独立近似导致的关联丢失；
3. **约束内生满足**：宏观统计与规则约束可在采样过程中持续注入（classifier-free guidance / constrained sampling），使"满足约束"成为生成动力学的内生部分。

### 国内研究现状与不足
相较于国际研究，国内关于合成人口画像的系统性研究起步较晚，研究成果相对有限。现有研究主要集中于传统IPF与IPU方法的应用，核心研究场景包括两类：一是对小规模人口出行调查数据进行扩样，生成符合城市宏观统计特征的大规模出行人口画像；二是基于全国人口普查、城市统计年鉴等宏观数据，通过IPF/IPU方法匹配部分城市的个体与家庭微观数据，构建区域性合成人口数据库。总体而言，国内研究尚未充分涉及人口合成的深度应用，对国际上常用的合成人口方法，尤其是概率化模型和机器学习模型的探索不足，缺乏实现精细化人口画像的技术手段，亟需研究填补这块空白。

### 小结：研究空白与本课题定位
经过空间化处理的数据可与资源环境数据、社会调查数据、经济统计数据等多源数据进行融合，可以更好地为城市规划、经济决策、灾害预防、犯罪管理等研究提供辅助决策。人口空间化和人口画像的结合可以提供最准确的人口信息数据，国内现有成果在生成精细化人口时空数据和人口画像数据上还存在技术突破空间，且尚未有研究将人口时空信息和人口画像信息予以整合，本研究正是回应了这一关切。

## 扩散模型的最新进展

### 表格扩散与受控生成范式
近年来，生成式扩散模型（Diffusion Model）从图像生成扩展到结构化/表格数据与时空序列建模，形成了适配离散与混合属性的表格扩散框架，以及可在采样过程中注入条件与约束的受控生成范式。其核心是通过“加噪—去噪”的逐步过程学习高维联合分布的关联结构，为解决高维稀疏下的稀有组合补齐与约束内生满足提供新的技术路径。

### 合成人口领域先例与不足
在合成人口领域，已有直接先例表明扩散模型可用于合成总体（synthetic pool）生成：Kang 等（2023, WSC）在 SRMSE 等指标上显示扩散模型优于传统 MCMC 与 VAE，并用基于普查信息的分箱/后处理控制不可行组合；Tang 等（2025, arXiv）进一步提出“feasibility—diversity”指标体系，以 F1 等指标量化补齐 sampling zeros 与避免 structural zeros 之间的权衡。现有工作仍主要停留在“属性合成”阶段，对建筑物尺度空间锚定、户—人层级一致性与时空动态闭环验证覆盖不足，为本研究的升级提供了明确空间。同时，国外公开微观样本（如 PUMS）可作为种子库支撑传统重加权路线，而国内微观数据多为受控访问，进一步凸显以普查汇总统计为约束、以多源城市感知数据为条件的生成式框架的合理性。

### 建筑物尺度人口空间化相关研究
在建筑物尺度人口空间化方面，国内已有基于居住空间属性的人口下推、基于多智能体与建筑物信息的高分辨率模拟，以及融合 LiDAR/夜间灯光/POI 等多源数据的建筑物尺度人口估计（董南等，2016；卓莉等，2014；Chen 等，2021）。这类研究证明建筑物尺度空间化在工程上可行，但多以静态人数分配/回归估计为主，难以同时生成社会经济属性与时间动态。

### 验证范式与 ABM 生态
在验证方法方面，ActivitySim/PopulationSim 等 ABM 生态提供了合成人口与控制量一致性检验的通用流程；基于移动电话数据构建的 24 小时动态人口分布数据集及其达赛米空间化方法，为昼夜动态与热点迁移的外部核验提供现实参照（PopulationSim；Bergroth 等，2022）。

### 小结：与本课题的契合点
综上，扩散模型的表格生成能力、约束注入潜力与时空验证范式的成熟，共同支撑本研究提出的“基于扩散的多层次人口生成方法”，并与本研究提出的“宏观—微观、区域—建筑、静态—动态”多层次生成架构相契合。
